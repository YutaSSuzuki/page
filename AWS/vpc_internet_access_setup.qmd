---
title: "VPC構築"
format: html
---

## VPC 構築手順書（インターネット接続可能なサブネット作成）

本記事はChatGPT4oを用いて作成を行いました。<br>
内容に誤りがある可能性があるため、各自で確認の上使用してください。

---

### 📘 目的
AWS上に新たなVPCを作成し、インターネットへアクセス可能なサブネットを構成する。

---

## ✅ 作成するリソース一覧

| リソース名 | 説明 |
|------------|------|
| VPC | カスタムVPCを作成 |
| サブネット | パブリックサブネット（インターネットアクセス可） |
| インターネットゲートウェイ（IGW） | 外部ネットワークへの出口 |
| ルートテーブル | IGW経由のルートを定義 |

---

## 🧾 作業手順

### 🔹 1. VPC を作成

1. AWSマネジメントコンソール → 「VPC」サービスを開く
2. 左メニュー「VPC」 → 「VPCを作成」
3. 以下の内容を入力：
   - 名前タグ：`MyVPC`
   - IPv4 CIDR ブロック：`10.0.0.0/16`
   - テナンシー：デフォルト
4. 「VPCを作成」ボタンをクリック

---

### 🔹 2. サブネットを作成（パブリック用）

1. 左メニュー「サブネット」→「サブネットを作成」
2. 以下の内容を入力：
   - 名前タグ：`MyPublicSubnet`
   - VPC：先ほど作成した `MyVPC`
   - アベイラビリティゾーン：任意（例：`ap-northeast-1a`）
   - IPv4 CIDR ブロック：`10.0.1.0/24`
3. 「サブネットを作成」ボタンをクリック

---

### 🔹 3. インターネットゲートウェイ（IGW）を作成・アタッチ

1. 左メニュー「インターネットゲートウェイ」→「IGWを作成」
2. 名前タグ：`MyIGW`
3. 「インターネットゲートウェイを作成」クリック
4. 作成後、一覧からIGWを選択し「アクション」→「VPCへアタッチ」
   - VPC：`MyVPC`

---

### 🔹 4. ルートテーブルを作成しサブネットに関連付け

1. 左メニュー「ルートテーブル」→「ルートテーブルを作成」
2. 名前タグ：`MyRouteTable`
3. VPC：`MyVPC`
4. 「ルートテーブルを作成」クリック
5. 作成されたルートテーブルを開き「ルート」タブ → 「ルートを編集」クリック
   - 宛先：`0.0.0.0/0`
   - ターゲット：`MyIGW`（インターネットゲートウェイ）
6. 「ルートを保存」
7. 「サブネットの関連付け」タブ → 「サブネットを関連付け」クリック
   - `MyPublicSubnet` を選択して関連付け

---

## ✅ 完成形

- VPC：`10.0.0.0/16`
- パブリックサブネット：`10.0.1.0/24`
- IGW経由でインターネット通信が可能
- 今後このサブネットに起動した EC2 にパブリックIPを付ければインターネット接続できる
- 左メニューの「VPC」から作成したVPCを選択してリソースマップを確認する。
  - サブネット、インターネットゲートウェイ、ネットワーク接続が１本の線でつながっていれば完了

---

## 🧪 動作確認（オプション）

1. EC2 を `MyPublicSubnet` に起動（パブリックIPを有効化）
2. セキュリティグループで HTTP/HTTPS または ICMP を許可
3. 接続確認（pingやyum updateなど）

---

## 🎁 参考リンク
- [VPC 入門 - AWS 公式](https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html)
